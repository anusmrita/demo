<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Custom Real Estate Enquiry Form</title>

<style>
  body {font-family: Arial; background:#f5f5f5; padding:40px;}
  .container {
    max-width: 500px; margin:auto; background:#fff; padding:25px;
    border-radius: 10px; box-shadow:0 0 10px rgba(0,0,0,0.1);
  }
  h2 {text-align:center; color:#444;}
  label { font-weight: bold; margin-top:10px; display:block; }
  input, select {
    width:100%; padding:10px; margin-top:5px; border-radius:6px;
    border:1px solid #ccc;
  }
  button {
    width:100%; padding:12px; margin-top:15px;
    background:#2563eb; color:#fff; border:none; border-radius:6px; cursor:pointer;
  }
  #status {margin-top:20px; text-align:center; display:none;}
</style>
</head>
<body>

<div class="container">
  <h2>Commercial Property Enquiry</h2>

  <form id="customForm">

    <label>Name</label>
    <input type="text" name="contact[first_name]" required />

    <label>Email</label>
    <input type="email" name="contact[email]" required />

    <label>Phone</label>
    <input type="text" name="contact[mobile_number]" required />

    <label>Company Name (optional)</label>
    <input type="text" name="account[name]" />

    <label>Property Type</label>
    <select name="contact[custom_field][cf_property_type]" required>
      <option value="">Select</option>
      <option>Commercial</option>
      <option>Residential</option>
      <option>Land / Plot</option>
    </select>

    <label>Budget</label>
    <select name="contact[custom_field][cf_budget]" required>
      <option value="">Select</option>
      <option>50L - 80L</option>
      <option>80L - 1Cr</option>
      <option>1Cr - 2Cr</option>
    </select>

    <label>Location Preference</label>
    <input type="text" name="contact[custom_field][cf_location]" required />

    <button type="submit">Submit Enquiry</button>
  </form>

  <div id="status"></div>
</div>

<script>
document.getElementById('customForm').addEventListener('submit', async function(e) {
  e.preventDefault();

  const statusEl = document.getElementById('status');
  statusEl.style.display = "block";
  statusEl.style.color = "black";
  statusEl.textContent = "Submitting...";

  const formData = new FormData(this);

  try {
    const response = await fetch(
      "https://anushmita296-org.myfreshworks.com/crm/sales/web_forms/1920f52c5474829dadc087f1077a3246ac127b06a937095c34fa11739df6992c/form_submissions",
      {
        method: "POST",
        body: formData
      }
    );

    const result = await response.json();

    if (response.ok) {
      statusEl.style.color = "green";
      statusEl.textContent = "Success! Contact created in CRM.";
      this.reset();
    } else {
      statusEl.style.color = "red";
      statusEl.textContent = "Failed: " + (result.errors ? JSON.stringify(result.errors) : "Unknown error");
    }

  } catch (err) {
    statusEl.style.color = "red";
    statusEl.textContent = "Error submitting form.";
  }
});
</script>

</body>
</html>
